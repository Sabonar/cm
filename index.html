<!DOCTYPE html>
<html lang="ru-ru">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>
	<title>Obeds ADMIN</title>


	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="css/materialize.min.css">
	<link rel="stylesheet" href="css/style.css?v=8">
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/materialize.min.js"></script>
          
<style>
	nav{
		margin-bottom: 20px!important;
	}
	td,th{
		    padding: 5px 5px!important;
	}
	
	#textarea2
	{
		min-height: 525px!important;
		background-color: white!important;
		padding: 10px!important;
		margin-top: 15px!important; 
	}
	.line 
	{
		/*margin-top: 40px;
		min-height: 500px;
		border: 1px solid;*/
	}
	label{
		padding-left: 10px!important;
		padding-bottom: 10px!important;
	}
	.white-power
	{
		background-color: white;
		padding: 10px;
	}
	.guide
	{
		min-height: 500px;
		width: 100%;
	}

</style>

</head>
<body>
<nav class="white" role="navigation">
    <div class="nav-wrapper container">
      <a id="logo-container" href="#" class="brand-logo">Solve the symmetric, tridiagonal equations</a>
      

      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
  </nav>

<div class="container main" >

	<div class ="row">
	<div class = "col l5 m5 s12">
	<div class = "white-power">
		<div>4x1 − x2 = 9</div>
		<div>−xi−1 + 4xi − xi+1 = 5, i = 2, . . . , n− 1</div>
		<div>−xn−1 + 4xn = 5</div>


	</div>
		<div class="input-field col s12">
          <input type = "number" id="number" class="materialize-input"></textarea>
          <label for="textarea1">N </label>
        </div>
   	</div>
   	<div class = "col l1 m1">
	<div class ="line">
	</div>
   	</div>
	<div class = "col l5 m5 s12">
		 
         
         <div class="guide white-power">
         </div>
	</div>

	</div>			
</div>
<script type="text/javascript">
var arrText='';
function getAlpha(ci,gamma)
{
	return -ci/gamma;
}
function getBeta(gamma,di,ai='none',beta='none')
{
	if(beta == 'none' || ai=='none')
	{
		return di/gamma;
	}
	return (di-ai*beta)/gamma;
}
function getGamma(bi,ai,alpha)
{
	return bi + ai * alpha;
}

Array.prototype.clean = function(deleteValue) {
	for (var i = 0; i < this.length; i++) {
		if (this[i] == deleteValue) {         
			this.splice(i, 1);
			i--;
		}
	}
	return this;
};

function print(array){
for (var i = 0; i < array.length; i++) {
		for (var j = 0; j < array[i].length; j++) {
		    arrText+=array[i][j]+' ';
		}
		console.log(arrText);
		arrText='';
	}
}

$(document).ready(function(){
	var array = [[4,-1]];
	var summ = [9];
	$('#number').on('keydown',function(e)
	{
		if (e.keyCode == 13) {
			var n = +$(this).val();

			for(var i = 0;i<n;i++)
			{
				if (array[i] == undefined)
				{
					array.push([]);
				}

				if(i>1)
				{
					//console.log(i);
					array[0].push(0);
				}
				if(i>0 && i<n-1)
				{
					summ.push(2);
					for(var j = 0;j<n;j++)
					{
	
						switch(j)
						{
							case i-1:
								array[i].push(-1);
								break;
							case i:
								array[i].push(4);
								break;
							case i+1:
								array[i].push(-1);
							break;
							default:
								array[i].push(0);
							break;
						}

					}
				}
				else if (i>0)
				{
					summ.push(5);
					array[i] = Array(n-2).fill(0);
					array[i].push(-1);
					array[i].push(4);
				}
			}

			
			print(array);
			alert('next?');
			for (var i = 0; i < array.length; i++) {
				gamma = i==0?array[i][i]:getGamma(array[i][i],array[i][i-1],alpha);
				alpha = getAlpha(array[i][i+1],gamma);
				beta = i==0?getBeta(array[i][i+1],gamma):getBeta(array[i][i+1],gamma,array[i][i-1],beta);
				array[i][i] = 1;
				array[i][i-1] = 0;
				if(array[i][i+1]!=undefined)
				{
					array[i][i+1] = -alpha;
				}
				//console.log(beta);
				summ[i] = beta;
			}
			console.log("\r\n--------------------------------------");
			print(array);

			x = Array(n).fill(0);
			x[n] = summ[n];
			for (var i = n-2; i > -1; i--) 
			{

				x[i] = array[i][i+1] * x[i+1] + summ[i];

			}
			alert('next?');
			//console.log(summ);
			console.log("\r\n--------------------------------------");
			for (var i = 0; i < n; i++) 
			{
				console.log('x'+i +'= ' + x[i]);
			}
		}
		
						
	});


});


</script>



</body>
</html>
